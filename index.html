<!DOCTYPE html>
<html>

    <head>
        <meta charset = "UTF-8"/>
        <title>Rock, Paper, Scissors!</title>
        <link rel = 'stylesheet' href = "style.css"/>
    </head>
  
    <body>
        <div id = "oneGame">
            <div class = 'banner'>ROCK, PAPER, SCISSORS!</div>
            <div class = "welcome">Choose your destiny!  <button id = "restart">New Game</button></div>
            <div class = "container">
                <button id = "rock">ðŸ‘Š</button>
                <button id = "paper">âœ‹</button>
                <button id = "scissors">âœŒ</button>
            </div>
        </div>
        

        <!--JavaScript code-->

        <script>
            let optionsArray = ['rock', 'paper', 'scissors'];

            function getComputerChoice() {
                const random = Math.floor(Math.random()*optionsArray.length);
                return optionsArray[random]; 
            };
        
            function playRound(playerSelection, computerSelection){
                playerSelection.toLowerCase();
                console.log("You Chose: " + playerSelection); 
                console.log("Computer Chose: " + computerSelection);

                let result;

                if (computerSelection == playerSelection){
                    result = 'Tie!';
                } else if (playerSelection == 'rock') {
                    if (computerSelection == 'scissors') {
                        result = 'You Win!';
                    } else if (computerSelection == 'paper') {
                        result = 'You Lose!';
                    }
                } else if (playerSelection == 'paper'){
                    if (computerSelection == 'scissors'){
                        result = 'You Lose!'; 
                    } else if (computerSelection == 'rock'){
                        result = 'You Win!';
                    }
                } else if (playerSelection == 'scissors'){
                    if (computerSelection == 'rock'){
                        result = 'You Lose!'; 
                    } else if (computerSelection == 'paper'){
                        result =  'You Win!';
                    }
                }
                
                return result;
            };

            let roundWon = 0;
            let roundLost = 0;
            let roundTie = 0;


            // Sound files: 
            const loseSound = new Audio("yousuck.mp3");
            const winSound = new Audio('youwin.mp3');
            const toastySound = new Audio('toasty.mp3');
            //------------------------------------------------------------------------------

            const oneGame = document.querySelector('#oneGame');
            const container = document.querySelector('#container');
            const score = document.createElement('div'); 
            const yourChoice = document.createElement('div')

            score.setAttribute('style','margin-top: 20px; padding-top: 50px; background-color: #FFBD33; flex:1; text-align: center;');
            yourChoice.setAttribute('style',' margin-top: 20px; padding-top: 50px; height: 50px; background-color: #FFBD33; flex:1; text-align: center;');

            const rock = document.querySelector('#rock'); 

            rock.addEventListener('click', ()=>{
                const computerChoice = getComputerChoice();

                var verdict = playRound('rock', computerChoice)
                oneGame.appendChild(score);

                yourChoice.textContent = 'You chose: '  + 'rock' +  ',  ' + 'Computer chose: '  + computerChoice;
                
                if (verdict == 'You Win!'){
                    roundWon +=1;
                } else if (verdict == 'You Lose!'){
                    roundLost +=1; 
                } else if (verdict == 'Tie!') {
                    roundTie += 1;
                };

                
                score.textContent =  'Score: ' +  roundWon;
                score.appendChild(yourChoice);
                var roundTotal = roundWon + roundLost + roundTie; 
                

                if (roundTotal == 5){
                    if (roundWon > roundLost){
                        yourChoice.textContent = 'Congratulations you Won!';
                        score.appendChild(yourChoice);
                        const winSound = new Audio('youwin.mp3');
                        winSound.play();
                    } else if (roundWon < roundLost){
                        yourChoice.textContent = 'You Suck! Click Rock, Paper or Scissors to start again?';
                        score.appendChild(yourChoice);
                        const loseSound = new Audio('yousuck.mp3'); 
                        loseSound.play(); 
                    } else if (roundWon == roundLost){
                        yourChoice.textContent = 'Draw';
                        score.appendChild(yourChoice);

                        const toastySound = new Audio('toasty.mp3'); 
                        toastySound.play();
                    };

                    roundWon = roundLost = roundTie = 0; 
                };
            });
            
            const paper = document.querySelector('#paper'); 
            paper.addEventListener('click', ()=>{

                const computerChoice = getComputerChoice();

                var verdict = playRound('paper', getComputerChoice())
                score.textContent =  verdict;
                oneGame.appendChild(score);
                yourChoice.textContent = 'You chose: '  + 'paper' +  ',  ' + 'Computer chose: '  + computerChoice;

                if (verdict == 'You Win!'){
                    roundWon +=1;
                } else if (verdict == 'You Lose!'){
                    roundLost +=1; 
                } else {
                    roundTie += 1;
                };
    
                score.textContent =  'Score: ' +  roundWon;
                score.appendChild(yourChoice);
                var roundTotal = roundWon + roundLost + roundTie; 
                
                if (roundTotal == 5){
                    if (roundWon > roundLost){
                        yourChoice.textContent = 'Congratulations you Won!';
                        score.appendChild(yourChoice);
                        
                        winSound.play();
                    } else if (roundWon < roundLost){
                        yourChoice.textContent = 'You Suck! Click Rock, Paper or Scissors to start again?';
                        score.appendChild(yourChoice);
                         
                        loseSound.play(); 
                    } else if (roundWon == roundLost){
                        yourChoice.textContent = 'Draw';
                        score.appendChild(yourChoice);

                        toastySound.play();
                    };

                    roundWon = roundLost = roundTie = 0; 
                };
            });

            const scissors = document.querySelector('#scissors'); 
            scissors.addEventListener('click', ()=>{

                const computerChoice = getComputerChoice();

                var verdict = playRound('scissors', getComputerChoice())
                score.textContent =  verdict;
                oneGame.appendChild(score);
                yourChoice.textContent = 'You chose: '  + 'scissors' +  ',  ' + 'Computer chose: '  + computerChoice;

                if (verdict == 'You Win!'){
                    roundWon +=1;
                } else if (verdict == 'You Lose!'){
                    roundLost +=1; 
                } else {
                    roundTie += 1;
                };
    
                score.textContent =  'Score: ' +  roundWon;
                score.appendChild(yourChoice);
                var roundTotal = roundWon + roundLost + roundTie; 
                
                if (roundTotal == 5){
                    if (roundWon > roundLost){
                        yourChoice.textContent = 'Congratulations you Won!';
                        score.appendChild(yourChoice);
                        
                        winSound.play();
                    } else if (roundWon < roundLost){
                        yourChoice.textContent = 'You Suck! Click Rock, Paper or Scissors to start again?';
                        score.appendChild(yourChoice);
                         
                        loseSound.play(); 
                    } else if (roundWon == roundLost){
                        yourChoice.textContent = 'Draw';
                        score.appendChild(yourChoice);
                        
                        toastySound.play();
                    };

                    roundWon = roundLost = roundTie = 0; 
                };
            });

            const restart  = document.querySelector('#restart'); 
            restart.addEventListener('click', ()=>{
                var roundTotal = roundWon = roundLost = roundTie = 0;
                console.log(roundTotal);
                score.remove(); 
                yourChoice.remove(); 
                console.clear();
            });

        </script>
    </body>
</html>